<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-编译原理">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">编译原理 | Akara</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://messiahhh.github.io/blog/docs/编译原理"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="编译原理 | Akara"><meta data-rh="true" name="description" content="编译器（compiler）"><meta data-rh="true" property="og:description" content="编译器（compiler）"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://messiahhh.github.io/blog/docs/编译原理"><link data-rh="true" rel="alternate" href="https://messiahhh.github.io/blog/docs/编译原理" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://messiahhh.github.io/blog/docs/编译原理" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BWG0DEIDEP-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="Akara RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="Akara Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Akara" href="/blog/opensearch.xml">

<meta name="referrer" content="no-referrer"><link rel="stylesheet" href="/blog/assets/css/styles.75b33eb2.css">
<link rel="preload" href="/blog/assets/js/runtime~main.17333116.js" as="script">
<link rel="preload" href="/blog/assets/js/main.8a75b65a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ 如果这个网站能帮助到你，欢迎给一个star支持作者  <a target="_blank" rel="noopener noreferrer" href="https://github.com/Messiahhh/blog">GitHub</a></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><b class="navbar__title text--truncate">Akara的博客</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/docs/HTML">正文</a><a class="navbar__item navbar__link" href="/blog/blog/面经">面经</a><a href="https://github.com/messiahhh/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/blog/"><b>Akara的博客</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/HTML">HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/css">CSS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/javascript/basic">JavaScript</a><button aria-label="打开/收起侧边栏菜单「JavaScript」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/typescript/config">Typescript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/node/module">Node</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/vue">Vue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/react/">React</a><button aria-label="打开/收起侧边栏菜单「React」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/infra/前端工程化">前端工程化</a><button aria-label="打开/收起侧边栏菜单「前端工程化」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/binary">二进制与编码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/browser">浏览器原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/canvas">Canvas学习</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/音视频学习">音视频学习</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/git">Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/计算机网络">计算机网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/前端安全">前端安全</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/异常处理">异常处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/blog/docs/编译原理">编译原理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/rust/setup">Rust</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/网站优化">性能优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/数据结构">数据结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/排序">排序算法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/编程题">编程题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/mysql">Mysql</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/linux">Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/websocket">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/php">php</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">编译原理</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>编译原理</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="编译器compiler">编译器（compiler）<a href="#编译器compiler" class="hash-link" aria-label="编译器（compiler）的直接链接" title="编译器（compiler）的直接链接">​</a></h2><p>编译器的作用是将A语言转化为B语言，这里的语言指的是包含着某种语法规则的文本。</p><p>编译器的一种常见用途是将高级语言转化为低级语言，比如C语言转化为汇编语言、汇编语言转化为机器码（又叫做机器指令，或CPU指令）；除此之外编译器还能实现其他各种语言间的转化，比如TypeScript转化为JavaScript、Markdown转化为HTML等等。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="编译流程">编译流程<a href="#编译流程" class="hash-link" aria-label="编译流程的直接链接" title="编译流程的直接链接">​</a></h3><p>一般来说，编译器的执行流程可以被简化成如下步骤：</p><ol><li><strong>词法分析</strong>。使用词法分析器（<code>lexical analyzer</code>，或者叫扫描<code>scanner</code>，或者叫<code>tokenizer</code>），输入源代码，输出<code>token</code>流。</li><li><strong>语法分析</strong>。使用语法分析器，输入<code>token</code>流，输出抽象语法树AST。步骤一和步骤二统称为<strong>解析器（Parser）</strong>。</li><li><strong>语义分析</strong>。 这一步包括但不仅限于对AST进行类型检查，我们拿<code>eslint</code>举例，在通过解析器获取AST后，它会对AST进行语义分析，当发现禁止的语法规则后就会报编译错误。</li><li><strong>代码生成</strong>。目标代码通常是机器码（如<code>Rust -&gt; 机器码</code>）、或中间表示/字节码（如<code>Rust -&gt; LLVM-IR</code>或<code>Java -&gt; Java字节码</code>）、或其他高级语言（如<code>TypeScript -&gt; JavaScript</code>）。我们拿<code>Babel</code>举例，在通过解析器获取AST后，我们会遍历（Traverse）AST的节点，进行分析和对节点的转换，从而获得<strong>新的抽象语法树</strong>，再根据新的AST生成对应的语言。</li></ol><p>一般对于像C/C++、Go、Rust这类语言而言，目标代码指的是机器码，因为其能够直接被CPU加载执行，所以在运行效率上是非常高的。不过像这种编译形式也存在着痛点，那就是由于不同机器通常对应着多种CPU指令集，我们必须针对不同环境都编译出一份能够运行的二进制产物，而LLVM是一个能够帮助我们解决该问题的热门方案。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="llvm">LLVM<a href="#llvm" class="hash-link" aria-label="LLVM的直接链接" title="LLVM的直接链接">​</a></h3><p>LLVM的全称是Low Level Virtual Machine，当然随着这个项目的不断发展它真正的作用已经超出了这个名字所表示的范畴。</p><p>简单来说这个项目是一个模块化的编译器框架，它的核心是<strong>中间表示IR（Intermediate Representation）</strong>，这是一种类似汇编的底层语言（字节码也是一种中间表示）。我们拿Rust举例，它自身的编译器只是将Rust代码编译成LLVM IR，这个编译器通常被称之为<strong>编译器前端</strong>（也就是主要做词法分析、语法分析、语义分析、代码生成）；而Rustc使用LLVM作为<strong>编译器后端</strong>，实现LLVM IR到不同机器指令的生成；另外除了前端和后端，LLVM还存在着<strong>优化器</strong>的概念，它将LLVM IR作为输入并会生成更高效的LLVM IR。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解释器interpreter">解释器（Interpreter）<a href="#解释器interpreter" class="hash-link" aria-label="解释器（Interpreter）的直接链接" title="解释器（Interpreter）的直接链接">​</a></h2><p>解释器的作用是接受指定的输入，执行相应的过程。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解释流程">解释流程<a href="#解释流程" class="hash-link" aria-label="解释流程的直接链接" title="解释流程的直接链接">​</a></h3><ol><li>词法分析。</li><li>语法分析。</li><li>语义分析。</li><li><strong>解释执行</strong>。可以看到，解释器和编译器的实现都包括解析器，即需要实现源代码到抽象语法树的转换，区别在于最终如何处理抽象语法树。一般解释器的实现中，抽象语法树的每个节点都会存在一个<code>eval</code>方法，<code>eval</code>方法将会递归调用该节点的子节点的<code>eval</code>方法，并根据它们的返回值计算自身的返回值，因此我们只需要调用抽象语法树根节点的<code>eval</code>方法就可以执行这颗树所代表的动作。</li></ol><p>一般如果想要自己实现简易的解释器的话，以这种<strong>AST解释器</strong>为目标或许是个不错的选择。而实际上许多主流的语言（如Java、JavaScript）的内部实现使用的并不是AST解释器，而是<strong>字节码解释器</strong>。以JavaScript（V8引擎）为例，它会首先把JavaScript解析成AST、再生成对应的字节码、之后再通过内部的Ignition解释器对字节码解释执行。</p><p>相较于使用编译器直接生成二进制产物，交由CPU直接加载执行；使用解释器的本质是CPU会先加载解释器自身的二进制代码，执行的过程中会把输入的内容解释成二进制代码再给CPU执行；如果我们使用解释器去实现解释器，比如使用JavaScript（V8引擎）实现Python，如<code>node interpreter.js source.py</code>，本质上来说CPU会先加载V8的代码，之后V8会把<code>interpreter.js</code>解释成二进制代码交给CPU执行，这段代码的执行又会把<code>source.py</code>解释成二进制代码交给CPU执行，由此可见为了执行这样的一段代码我们启用了两个解释器，效率明显是比较低的。</p><ul><li>假设我们使用Rust实现字节码的解释器，从实现上看我们实现了字节码到Rust的解释，但考虑到Rust代码会被编译成二进制，所以从运行上看我们实现的是字节码到机器码的解释</li><li>假设我们使用Rust实现JavaScript的解释器，从实现上看我们实现了JavaScript到Rust的解释，但考虑到Rust代码会被编译成二进制，所以从运行上看我们实现的是JavaScript到机器码的解释</li><li>假设我们使用JavaScript实现Python的解释器，从实现上看我们实现了Python到JavaScript的解释，但考虑到JavaScript代码会被解释成二进制，所以从运行上看我们实现的是Python到机器码的解释</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="虚拟机">虚拟机<a href="#虚拟机" class="hash-link" aria-label="虚拟机的直接链接" title="虚拟机的直接链接">​</a></h3><p>以个人的理解，虚拟机所表达的范围要比解释器更小，即虚拟机都能被称为解释器，但解释器并不都能被叫做虚拟机。一般被称为虚拟机的一大要素是它解释的源码是一种虚拟指令集（如字节码，或中间表示），虚拟机能够虚拟指令集映射为真实的机器指令执行。</p><p>通常虚拟机从实现上可以分为基于栈的虚拟机和基于寄存器的虚拟机，下文中的Java虚拟机就是基于栈的，而V8内部的Ignition则是基于寄存器的，一般来说基于栈的实现要更简单一些。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="java">Java<a href="#java" class="hash-link" aria-label="Java的直接链接" title="Java的直接链接">​</a></h4><p>Java的口号是编译一次处处运行，实现这个功能所依靠的就是<strong>JVM（Java Virtual Machine）</strong>。Java代码首先会被编译成Java字节码，在运行时Java虚拟机会对输入的Java字节码解释执行。</p><p>相比于直接由CPU执行机器码，通过虚拟机解释执行会在运行效率上稍打折扣，但虚拟机这个概念也带来了许多好处，最重要的就是抹去了目标平台的差异性。除此之外，其他的语言也可以通过被编译成Java字节码，实现整个生态的复用，这其中比较知名的语言是Kotlin。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="javascript">JavaScript<a href="#javascript" class="hash-link" aria-label="JavaScript的直接链接" title="JavaScript的直接链接">​</a></h4><p>JavaScript最主流的解释器/运行环境是V8引擎，它是Chrome浏览器和NodeJS的核心，V8引擎的执行流程和Java十分相似。它是在运行时接受JavaScript源码作为输入，将其解析成抽象语法树AST，AST会被传入V8的Ignition解释器生成对应的字节码，之后Ignition会对字节码解释执行。</p><p>从实现的角度上来看，V8引擎是JavaScript的解释器，而V8内部的Ignition又是JavaScript字节码的解释器（同时又是虚拟机，功能上更贴近JVM）。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="即时编译just-in-time-compilation">即时编译（Just-In-Time Compilation）<a href="#即时编译just-in-time-compilation" class="hash-link" aria-label="即时编译（Just-In-Time Compilation）的直接链接" title="即时编译（Just-In-Time Compilation）的直接链接">​</a></h4><p>即时编译通常指的是在运行时进行编译。事实上Java和JavaScript这对好兄弟都采用了解释器+即时编译的混合技术。我们以V8引擎为例，在Ignition不断解释执行字节码的同时，会将高频执行的代码段标记为热点代码，而V8内部的TurboFan编译器（优化编译器）就会把热点代码编译成机器码，这样在后续的执行中这段代码就不需要再被解释执行了，能够加快整体的执行效率。</p><p>另外，即时编译技术的特点是在运行时进行编译，因此能够收集到许多运行时的信息，方便进行相应的优化。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="如何自制语言">如何自制语言<a href="#如何自制语言" class="hash-link" aria-label="如何自制语言的直接链接" title="如何自制语言的直接链接">​</a></h2><p>上述内容以理论为主，虽说稍微加强了我们对于一些概念的理解，但现在我们依然只是站在编译原理这门课的门口而已，真要我们实战去写一门语言还是有一些困难的。不过我们的目的也不是说一定要去自制编程语言，通过简单的学习至少我们能够了解到如果要去自制一门语言的话，大概需要去做些什么。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="静态编译">静态编译<a href="#静态编译" class="hash-link" aria-label="静态编译的直接链接" title="静态编译的直接链接">​</a></h3><ol><li>方案一：完全手写。那么我们至少需要做到<code>源代码 -&gt; AST -&gt; 机器码 </code>，难点是AST到机器码的代码生成，特别是我们还需要具备能够编译到不同平台的能力。</li><li>方案二：自己只实现编译器前端，使用LLVM作为编译器后端。这应该是目标最主流的一种开发范式，Rust就是用的这种方式。我们只需要实现<code>源代码 -&gt; AST -&gt; LLVM-IR</code>即可，可以使用LLVM的生态（优化器和后端）来生成多个平台的二进制产物。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解释执行">解释执行<a href="#解释执行" class="hash-link" aria-label="解释执行的直接链接" title="解释执行的直接链接">​</a></h3><ol><li>方案一：完全手写，开发语言，只是用脚本语言实现脚本语言的话运行效率上恐怕不高。<ol><li>路线一：实现AST解释器，相对来说更简单，那么我们需要实现<code>源代码 -&gt; AST -&gt; 解释执行</code></li><li>路线二：实现字节码解释器，那么我们需要实现<code>源代码 -&gt; AST -&gt; 字节码 -&gt; 解释执行</code></li></ol></li><li>方案二：复用现成虚拟机，如Java虚拟机（主流的HotSpot VM）。诸如Kotlin之类的语言就是使用这种方案，这种做法不但实现起来更加简单，更能够轻松的复用整个生态。我们需要实现<code>源代码 -&gt; AST -&gt; Java字节码</code>，Java字节码可以直接拿来在目标虚拟机上解释执行。</li><li>方案三：复用现成解释器。考虑到V8本身可以视为JavaScript的解释器，我们需要实现<code>源代码 -&gt; AST -&gt; JavaScript</code>就可以复用整个前端的生态（取名为TypeScript2）</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="与前端领域结合">与前端领域结合<a href="#与前端领域结合" class="hash-link" aria-label="与前端领域结合的直接链接" title="与前端领域结合的直接链接">​</a></h2><p>如上所说，我们的目的并不是去自制一门语言，而是加深我们对于一些底层概念的理解。事实上，前端领域（或者说前端工程化）中有许多内容是涉及到编译原理的，通过掌握这些知识，我们能够参与到一些更加有意思的事情当中，在接下来的章节中，我将介绍如何更深入的玩耍Babel。</p><p>我们都知道Babel的主要作用是实现JavaScript/TypeScript语法的转化，它实际上由多个模块组成：</p><ul><li><code>@babel/parser</code>：<code>babel</code>的解析器（曾用名<code>babylon</code>，封装于<code>Acorn</code>），能够将JavaScript解析成标准（即符合<a href="https://github.com/estree/estree" target="_blank" rel="noopener noreferrer">estree规范</a>）的AST。</li><li><code>@babel/traverse</code>：可以用来遍历<code>@babel/parser</code>生成的AST，通过编写Visitor来实现各类AST操作（比如替换所有变量名）</li><li><code>@babel/types</code>：类似<code>lodash</code>风格的工具库，主要用来搭配<code>@babel/traverse</code>操作AST节点（比如提供了创建AST节点的方法）</li><li><code>@babel/generator</code>：我们可以根据修改后的AST生成新的JavaScript代码，以及sourceMap</li><li><code>@babel/core</code>：结合以上工具实现代码的转化</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_S0QG"><p>顺带一提，<code>eslint</code>使用<code>espree</code>（同样封装于<code>Acorn</code>）解析器，但<code>@babel/parser</code>支持对TypeScript的解析而<code>espree</code>并不支持。</p><p>因此如果希望<code>eslint</code>解析<code>TS</code>代码我们需要自行把<code>eslint</code>的解析器设置为<code>@typescript-eslint/parser</code>，并提供相应的插件支持<code>@typescript-eslint/eslint-plugin</code>（需要安装<code>typescript</code>模块）。</p></div></div><p>也就是说稍微麻烦的AST生成以及代码生成都有了现成的轮子，我们只需要在前人的肩膀上做一些微小的工作即可，我们只需要稍微了解一下常见的<a href="https://github.com/babel/babel/tree/main/packages/babel-types/src/definitions" target="_blank" rel="noopener noreferrer">AST节点的类型定义</a>，就可以实战写一些有意思的Visitor了，比如说简单的把所有的箭头函数都转换成普通函数（像这种单一功能的转化被称作Babel Plugin，而Presets预设则代表着多个插件的集合）</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> parse </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@babel/parser&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">_traverse</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@babel/traverse&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">_generator</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@babel/generator&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> traverse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _traverse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> generator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _generator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> oldCode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    const a = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        const b = async () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            return () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        }    </span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            fn: b,</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            fn2: () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ast </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">oldCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">sourceType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;module&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">traverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function maybe-class-name" style="color:#d73a49">ArrowFunctionExpression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">node</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;FunctionExpression&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">code</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> newCode </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ast</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">newCode</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">a</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">b</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">fn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">fn2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md" target="_blank" rel="noopener noreferrer">Babel Plugin-handbook</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/编译原理.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/docs/异常处理"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">异常处理</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/docs/rust/setup"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">安装</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#编译器compiler" class="table-of-contents__link toc-highlight">编译器（compiler）</a><ul><li><a href="#编译流程" class="table-of-contents__link toc-highlight">编译流程</a></li><li><a href="#llvm" class="table-of-contents__link toc-highlight">LLVM</a></li></ul></li><li><a href="#解释器interpreter" class="table-of-contents__link toc-highlight">解释器（Interpreter）</a><ul><li><a href="#解释流程" class="table-of-contents__link toc-highlight">解释流程</a></li><li><a href="#虚拟机" class="table-of-contents__link toc-highlight">虚拟机</a></li></ul></li><li><a href="#如何自制语言" class="table-of-contents__link toc-highlight">如何自制语言</a><ul><li><a href="#静态编译" class="table-of-contents__link toc-highlight">静态编译</a></li><li><a href="#解释执行" class="table-of-contents__link toc-highlight">解释执行</a></li></ul></li><li><a href="#与前端领域结合" class="table-of-contents__link toc-highlight">与前端领域结合</a></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/blog/assets/js/runtime~main.17333116.js"></script>
<script src="/blog/assets/js/main.8a75b65a.js"></script>
</body>
</html>