---
sidebarDepth: 4
---
## React和Vue的对比

> 本节待完善

共同点：

1. 都使用了Virtual DOM
2. 都提供了响应式和组件化的视图组件
3. 将注意力集中保持在核心库，其他功能如路由和全局状态管理交给相关的库

不同：

1. 优化：

   1. React应用中，某个组件的状态发生改变时，它会以组件为根，重新渲染整个组件子树。

      如果要避免不必要的子组件的渲染，需要使用PureComponent或者shouldComponentUpdate方法进行优化

   2. 在Vue应用中，组件的依赖是在渲染过程中自动追踪的，所以系统能精确知晓哪个组件确实需要被重渲染。

2. React中，一切都是JavaScript，html用jsx表示，css也可以纳入js中处理。



### 虚拟DOM

虚拟DOM是Vue和React都使用到的概念，因此将其放在本节中进行解释，我们需要了解的是，虚拟DOM只是一个单纯的JavaScript元素。



##### 虚拟DOM的优劣

使用虚拟DOM：当我们修改我们的数据，重新生成新的虚拟DOM，新老虚拟DOM进行DIFF操作之后，框架底层内部会对我们的真实DOM进行操作。

使用真实DOM：直接手动操作DOM。



**优点**

1. 保证性能的下限。

   当我们使用虚拟DOM的时候，框架会帮我们完成DOM的操作，相当于是一个自动化的过程。

   想一想，一个前端菜鸟随便对真实DOM进行操作，一不小心就会写出低性能的代码。而当我们使用虚拟DOM，类似把我们的需求告诉我们的框架底层，让其进行真实DOM的操作。

2. 跨平台。

   虚拟 DOM 本质上是 JavaScript 对象,而 DOM 与平台强相关，相比之下虚拟 DOM 可以进行更方便地跨平台操作，例如服务器渲染、weex 开发等等。

**缺点**

1. 虚拟DOM的使用可以保证性能的下限，但也正是因为如此，它也无法做到极致的优化。毕竟，我们操作虚拟DOM的最终目的是操作真实DOM，那论性能的上限自然是无法与直接操作真实DOM相比。



### 单页/多页应用

> 不要吐槽为什么这一节放在vue/react区别下面...

##### 单页应用

优点：

1. 前后端分离
2. 页面的切换流畅。

缺点：

1. 首屏加载慢，容易出现首屏白屏的情况
2. 对SEO不友好



##### 多页应用

好处

1. 首屏加载快
2. 对SEO友好

坏处

1. 页面的切换不流畅。



##### 服务端渲染/SSR

> 笔者对SSR并没怎么接触，建议读者跳过该节的内容，目标只是稍微做一个笔记，并不代表严谨和正确。

单页应用的两大缺点，首屏加载和SEO不友好。对于前者，我们通常有类似**路由懒加载**，或者是**骨架屏**之类的解决方案；对于后者，谷歌的**puppeteer**似乎也是可以一定程度上解决的（只听闻过，未曾了解），puppeteer对我们SPA应用进行爬取，然后渲染出html，后端对请求进行判断，如果是爬虫请求，就将我们就走puppeteer渲染的服务器，如果是用户就直接走单页就好了。



**服务端渲染**也是用来解决单页应用的缺点的，当然，虽然可以一定程度上解决，开发的成本也会相应的提高。

目前我对服务端渲染了解的还不深，只能说大概的目标是通过在服务端渲染出HTML发送给浏览器，取代原本的：浏览器中执行JS代码生成完整的HTML。这样，爬虫就可以爬到完整的网页；不过服务端渲染也会提高服务器的开销。



通常的单页应用采取的是客户端渲染的方式。用户访问网站时通常只获取一个`<div id='app'></div>`，之后在浏览器中执行JS代码，生成完整的网页。而搜索引擎爬虫爬到网页后并不会执行JS代码，因此无法爬到网页的文本。

服务端渲染大概的目标是在服务端渲染网页再发送给前端，不过在解决前端SEO的问题的同时，也会给服务器带来额外的开销。

同构：指的是同一份代码，既可以跑在前端，也可以跑在后端。

