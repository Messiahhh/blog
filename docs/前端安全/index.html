<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-å‰ç«¯å®‰å…¨">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="Akara RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="Akara Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Akara" href="/blog/opensearch.xml"><title data-rh="true">å‰ç«¯å®‰å…¨ | Akara</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://messiahhh.github.io//blog/docs/å‰ç«¯å®‰å…¨"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="å‰ç«¯å®‰å…¨ | Akara"><meta data-rh="true" name="description" content="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰"><meta data-rh="true" property="og:description" content="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://messiahhh.github.io//blog/docs/å‰ç«¯å®‰å…¨"><link data-rh="true" rel="alternate" href="https://messiahhh.github.io//blog/docs/å‰ç«¯å®‰å…¨" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://messiahhh.github.io//blog/docs/å‰ç«¯å®‰å…¨" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BWG0DEIDEP-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/blog/assets/css/styles.e42ed275.css">
<link rel="preload" href="/blog/assets/js/runtime~main.25eb944e.js" as="script">
<link rel="preload" href="/blog/assets/js/main.dec5291d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_IbjG" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">â­ï¸ å¦‚æœè¿™ä¸ªç½‘ç«™èƒ½å¸®åŠ©åˆ°ä½ ï¼Œæ¬¢è¿ç»™ä¸€ä¸ªstaræ”¯æŒä½œè€…  <a target="_blank" rel="noopener noreferrer" href="https://github.com/Messiahhh/blog">GitHub</a></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="å…³é—­"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><b class="navbar__title">Akaraçš„åšå®¢</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link navbar__link--active" href="/blog/docs/HTML">æ­£æ–‡</a><a class="navbar__item navbar__link" href="/blog/blog/é¢ç»">é¢ç»</a><a href="https://github.com/messiahhh/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a tabindex="-1" class="sidebarLogo_YUvz" href="/blog/"><b>Akaraçš„åšå®¢</b></a><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/HTML">HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/css">CSS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/javascript/basic">JavaScript</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒJavaScriptã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/typescript/config">Typescript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/node/module">Node</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/vue">Vue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/react/">React</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒReactã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blog/docs/infra/å‰ç«¯å·¥ç¨‹åŒ–">å‰ç«¯å·¥ç¨‹åŒ–</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå‰ç«¯å·¥ç¨‹åŒ–ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/browser">æµè§ˆå™¨åŸç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/git">Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/è®¡ç®—æœºç½‘ç»œ">è®¡ç®—æœºç½‘ç»œ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/blog/docs/å‰ç«¯å®‰å…¨">å‰ç«¯å®‰å…¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/ç¼–è¯‘åŸç†">ç¼–è¯‘åŸç†</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/docs/rust/setup">Rust</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/éŸ³è§†é¢‘å­¦ä¹ ">éŸ³è§†é¢‘å­¦ä¹ </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/ç½‘ç«™ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/æ’åº">æ’åºç®—æ³•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/ç¼–ç¨‹é¢˜">ç¼–ç¨‹é¢˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/mysql">Mysql</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/linux">Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/websocket">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/php">php</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/blog/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">å‰ç«¯å®‰å…¨</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><h1>å‰ç«¯å®‰å…¨</h1><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="è·¨ç«™è„šæœ¬æ”»å‡»xss">è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰<a class="hash-link" href="#è·¨ç«™è„šæœ¬æ”»å‡»xss" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>XSSé€šå¸¸æ ¹æ®åœºæ™¯çš„ä¸åŒåˆ†ä¸ºå‡ å¤§ç±»å‹</p><ol><li><p>åå°„å‹XSS</p></li><li><p>å­˜å‚¨å‹XSS</p><p>æ¶æ„ä»£ç é€šå¸¸å­˜åœ¨æ•°æ®åº“ï¼Œå½±å“å¹¿æ³›</p></li><li><p>åŸºäºDOMçš„XSS</p></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="åå°„å‹xssçš„æµç¨‹">åå°„å‹XSSçš„æµç¨‹<a class="hash-link" href="#åå°„å‹xssçš„æµç¨‹" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ç”¨ä»£ç å†™äº†ä¸ªä¾‹å­ï¼Œä»¥ä¾¿è¯»è€…ç†è§£ï¼Œå®Œæ•´ä»£ç é™„åœ¨åé¢ã€‚</p><p>æ™®é€šç”¨æˆ·é¦–å…ˆè®¿é—®<code>localhost:3000/sign?name=akara</code>è¿›è¡Œç™»å½•ï¼ŒåŒæ—¶è·å–Cookie</p><p>ä¹‹åè¯¥ç”¨æˆ·å¯ä»¥é€šè¿‡ç‚¹å‡»<code>localhost:3000/?content=helloworld</code>è·å–ç½‘é¡µ</p><p>æ­¤æ—¶çš„ç½‘é¡µå†…å®¹å¦‚ä¸‹</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">helloworld</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½†æœ‰ä¸€å¤©ï¼Œé»‘å®¢ç”¨æˆ·æ„é€ å‡ºäº†ä¸€ä¸ªè¯¡å¼‚çš„URLï¼Œå¹¶ç”¨QQå‘é€ç»™æ™®é€šç”¨æˆ·ï¼Œå¹¶éª—ä»–ç‚¹å¼€è¿™ä¸ªé“¾æ¥</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">localhost</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3000</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">content</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">http://localhost:8000?msg=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation dom variable" style="color:#36acaa">document</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">cookie</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ­¤æ—¶çš„ç½‘é¡µå†…å®¹å¦‚ä¸‹</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript function" style="color:#d73a49">fetch</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript template-string string" style="color:#e3116c">http://localhost:8000?msg=</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token script language-javascript template-string interpolation dom variable" style="color:#36acaa">document</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token script language-javascript template-string interpolation property-access">cookie</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¯ä»¥çœ‹åˆ°ç½‘é¡µè¢«æ’å…¥äº†ä¸€æ®µæ¶æ„ä»£ç ï¼Œæ‰§è¡Œè¿™æ®µä»£ç çš„ç»“æœå°±æ˜¯æ™®é€šç”¨æˆ·ä¸»åŠ¨å‘é»‘å®¢çš„æœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚çš„å‚æ•°æ˜¯è‡ªå·±çš„Cookieã€‚</p><p>é‚£ä¹ˆè¿™æ ·é»‘å®¢å°±æ‹¿åˆ°äº†æ™®é€šç”¨æˆ·çš„Cookieäº†ï¼Œå°±å¯ä»¥è‚†æ„å¦„ä¸ºçš„åšåäº‹äº†ã€‚</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// æ­£å¸¸ç½‘ç«™çš„æœåŠ¡ç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Koa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Router</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-router&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> views </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-views&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> mysql </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;mysql&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bluebird </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bluebird&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bluebird</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">promisifyAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createConnection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Router</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> render </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">views</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./views&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">extension</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ejs&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">render</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">routes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">allowedMethods</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        content </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;template&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/sign&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Set-Cookie&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">name=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ç™»å½•æˆåŠŸ&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æˆ‘æ˜¯æ­£å¸¸çš„ç½‘ç«™&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-ejs theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-ejs codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- æ¨¡æ¿æ–‡ä»¶ejs --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;ç½‘é¡µ&lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;æˆ‘æ˜¯æ­£å¸¸ç½‘ç«™&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div&gt;&lt;%- content %&gt;&lt;/div&gt; &lt;!-- è¿™é‡Œæ˜¯ %- è€Œä¸æ˜¯ %=ï¼Œåè€…ä¼šè¿›è¡Œè½¬ä¹‰ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// é»‘å®¢æœåŠ¡å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Koa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Router</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-router&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Router</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">routes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">allowedMethods</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">æ‹¿åˆ°äº†Cookie: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">ctx</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">query</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">msg</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ä½ çš„Cookieè¢«æˆ‘æ‹¿åˆ°å•¦&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;å‡è®¾æˆ‘æ˜¯é»‘å®¢æœåŠ¡å™¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é»‘å®¢å¯ä»¥é€šè¿‡æ„é€ æ¶æ„é“¾æ¥ï¼Œæ¥è¾¾æˆXSSæ”»å‡»ã€‚æ¶æ„é“¾æ¥å¦‚ä¸‹</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">localhost</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3000</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">content</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">http://localhost:8000?msg=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation dom variable" style="color:#36acaa">document</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">cookie</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å­˜å‚¨å‹xssæ¡ˆä¾‹">å­˜å‚¨å‹XSSæ¡ˆä¾‹<a class="hash-link" href="#å­˜å‚¨å‹xssæ¡ˆä¾‹" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æŠŠä¸Šé¢æ¡ˆä¾‹çš„ä»£ç ç¨å¾®æ”¹ä¸€ä¸‹å³å¯</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">queryAsync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">SELECT * FROM comments</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶ååœ¨è¾“å…¥æ¡†æ„é€ æ¶æ„ä»£ç å³å¯</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="xssçš„é˜²å¾¡">XSSçš„é˜²å¾¡<a class="hash-link" href="#xssçš„é˜²å¾¡" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>åœ¨æ•°æ®è¾“å‡ºæ—¶è¿›è¡Œæ£€æµ‹</p><p>XSSçš„æœ¬è´¨æ˜¯ä¸€ç§â€œHTMLæ³¨å…¥â€ï¼Œç”¨æˆ·çš„è¾“å…¥æ•°æ®è¢«å½“æˆHTMLä»£ç çš„ä¸€éƒ¨åˆ†æ¥æ‰§è¡Œã€‚</p><ol><li>åœ¨HTMLæ ‡ç­¾æˆ–å±æ€§ä¸­è¾“å‡ºæ•°æ®ï¼Œä½¿ç”¨HTMLEncodeï¼Œå°†å­—ç¬¦è½¬åŒ–ä¸ºhtmlå®ä½“å­—ç¬¦ã€‚é€šå¸¸è½¬åŒ–&amp; &lt; &gt; &quot; &#x27; / è¿™å‡ ä¸ªå­—ç¬¦ã€‚</li><li>åœ¨Scriptæ ‡ç­¾æˆ–äº‹ä»¶ä¸­è¾“å‡ºæ•°æ®ï¼Œä½¿ç”¨JavaScriptEncodeï¼Œä½¿ç”¨è½¬ä¹‰ç¬¦ \ å¯¹ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ã€‚é™¤äº†æ•°å­—å’Œå­—æ¯ï¼Œå¯¹å°äº127çš„å­—ç¬¦ç¼–ç ä½¿ç”¨\xHHè¡¨ç¤ºï¼Œå¯¹å¤§äº127çš„å­—ç¬¦ç”¨Unicodeè¡¨ç¤ºã€‚</li></ol><p>å…¶ä»–ï¼š</p><ol><li><p>Cookieè®¾ç½®ä¸ºHttpOnlyä¹Ÿå¯ä»¥é˜²æ­¢XSSåŠ«æŒCookie</p></li><li><p>CSP å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œæœ¬è´¨å»ºç«‹ç™½åå•ï¼Œå¼€å‘è€…æ˜ç¡®å‘Šè¯‰æµè§ˆå™¨å“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œã€‚</p><ul><li><p>è®¾ç½®HTTP Headerçš„Content-security-Policy</p></li><li><p>æˆ–è€…è®¾ç½®metaæ ‡ç­¾çš„<code>&lt;meta http-equv=&quot;Content-Security-Policy&quot;&gt;</code></p></li><li><p>ä»¥è®¾ç½® HTTP Header æ¥ä¸¾ä¾‹</p><ul><li><p>åªå…è®¸åŠ è½½æœ¬ç«™èµ„æº</p><div class="codeBlockContainer_I0IT language-http theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-http codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Content-Security-Policy: default-src â€˜selfâ€™</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>å›¾ç‰‡åªå…è®¸åŠ è½½ HTTPS åè®®</p><div class="codeBlockContainer_I0IT language-http theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-http codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Content-Security-Policy: img-src https://*</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>å…è®¸åŠ è½½ä»»ä½•æ¥æºæ¡†æ¶</p><div class="codeBlockContainer_I0IT language-http theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-http codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Content-Security-Policy: child-src &#x27;none&#x27;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="è·¨ç«™è¯·æ±‚ä¼ªé€ csrf">è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰<a class="hash-link" href="#è·¨ç«™è¯·æ±‚ä¼ªé€ csrf" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š</p><p>ã€€ã€€1.ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚</p><p>ã€€ã€€2.å—å®³è€…è®¿é—®å±é™©ç½‘ç«™Bï¼Œ ç½‘ç«™Bä¸­å‘é€è¯·æ±‚ç»™ç½‘ç«™Aï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨å¸¦ä¸ŠCookieã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="csrfçš„é˜²å¾¡">CSRFçš„é˜²å¾¡<a class="hash-link" href="#csrfçš„é˜²å¾¡" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ol><li><p>éªŒè¯ç ï¼ˆå› ä¸ºCSRFçš„æ”»å‡»å¾€å¾€åœ¨å—å®³è€…ä¸çŸ¥æƒ…çš„æ—¶å€™æˆåŠŸï¼‰</p></li><li><p>æ£€æŸ¥è¯·æ±‚çš„Refererå¤´éƒ¨</p><p>é€šå¸¸ç½‘ç«™çš„é¡µé¢ä¸é¡µé¢ä¹‹é—´æœ‰ä¸€å®šçš„é€»è¾‘è”ç³»ï¼Œä¾‹å¦‚æƒ³è¦å‘é€ç™»å½•çš„è¯·æ±‚example.com/api/loginæ—¶ï¼Œé€šå¸¸ç”¨æˆ·åœ¨ç™»å½•çš„é¡µé¢example.com/loginä¸‹ã€‚é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦éªŒè¯è¯·æ±‚çš„Refereræ˜¯å¦ä¸ºexample.com/loginå³å¯ã€‚</p><p>ç¼ºé™·ï¼šæŸäº›æƒ…å†µä¸‹æµè§ˆå™¨ä¸ä¼šå‘é€Referer</p></li><li><p>Cookieçš„SameSiteå±æ€§ã€‚</p><p>SameSiteå¯ä»¥è®¾ç½®ä¸ºä¸‰ä¸ªå€¼ï¼šStrictï¼ŒLaxï¼ŒNoneã€‚</p><p>Strictæ¨¡å¼ï¼šæµè§ˆå™¨ç¦æ­¢ç¬¬ä¸‰æ–¹è¯·æ±‚æºå¸¦Cookieï¼Œæ¯”å¦‚example.comä»¥å¤–çš„ç½‘ç«™åœ¨å‘example.com/api/loginå‘é€è¯·æ±‚æ—¶ä¸ä¼šå‘é€Cookieã€‚</p><p>Laxæ¨¡å¼ï¼šç›¸å¯¹å®½æ¾ï¼Œåªèƒ½åœ¨ <code>get æ–¹æ³•æäº¤è¡¨å•</code>å†µæˆ–è€…<code>a æ ‡ç­¾å‘é€ get è¯·æ±‚</code>çš„æƒ…å†µä¸‹å¯ä»¥æºå¸¦ Cookieï¼Œå…¶ä»–æƒ…å†µå‡ä¸èƒ½ã€‚</p><p>Noneæ¨¡å¼ï¼šé»˜è®¤æ¨¡å¼ï¼Œè¯·æ±‚è‡ªåŠ¨å¸¦ä¸ŠCookieã€‚ï¼ˆchrome 80åå¯èƒ½é»˜è®¤æ¨¡å¼ä¼šæ”¹ä¸ºLaxï¼‰</p></li><li><p>CSRF Token</p><p>CSRFçš„æœ¬è´¨åœ¨äº<strong>è¯·æ±‚çš„å‚æ•°å¯ä»¥è¢«æ”»å‡»è€…çŒœåˆ°</strong></p><p>Tokenæ˜¯ä¸€ä¸ªéšæœºæ•°ï¼ŒåŒæ—¶å­˜æ”¾åœ¨è¡¨å•å’Œç”¨æˆ·çš„Cookieä¸­ï¼Œå‘é€è¯·æ±‚åæœåŠ¡å™¨å¯¹è¯·æ±‚å®ä½“çš„tokenå’Œcookieä¸­çš„tokenè¿›è¡Œå¯¹æ¯”ã€‚</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å¯†ç å­¦ç›¸å…³">å¯†ç å­¦ç›¸å…³<a class="hash-link" href="#å¯†ç å­¦ç›¸å…³" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨æˆ‘çœ‹æ¥ï¼Œå¯†ç å­¦æœ€é‡è¦çš„ä¸‰ä¸ªç‚¹</p><ol><li><strong>æœºå¯†æ€§</strong></li></ol><p>å³ä¿è¯é€šä¿¡çš„å†…å®¹ä¸ä¼šè¢«ç¬¬ä¸‰è€…çŸ¥æ™“ã€‚</p><ol start="2"><li><strong>å®Œæ•´æ€§</strong></li></ol><p>å³ä½¿èƒ½ä¿è¯æœºå¯†æ€§ï¼Œä¹Ÿè¦ä¿è¯é€šä¿¡çš„å†…å®¹æ²¡æœ‰è¢«ç¯¡æ”¹è¿‡æˆ–ä¸¢å¤±ã€‚</p><ol start="3"><li><strong>è®¤è¯</strong></li></ol><p>å³ç¡®è®¤é€šä¿¡çš„å¯¹è±¡å¹¶ä¸æ˜¯ä¼ªé€ çš„ç¬¬ä¸‰æ–¹ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="åŠ å¯†ç®—æ³•">åŠ å¯†ç®—æ³•<a class="hash-link" href="#åŠ å¯†ç®—æ³•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æƒ³è¦ä¿è¯æ¶ˆæ¯çš„æœºå¯†æ€§ï¼Œå°±è¦ä½¿ç”¨åˆç†çš„åŠ å¯†ç®—æ³•ã€‚</p><p>è€ŒåŠ å¯†ç®—æ³•æ ¹æ®ä½¿ç”¨çš„å¯†é’¥çš„ç±»å‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§</p><ol><li><strong>å¯¹ç§°åŠ å¯†ç®—æ³•</strong></li><li><strong>éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå…¬é’¥åŠ å¯†ç®—æ³•ï¼‰</strong></li><li><strong>æ··åˆåŠ å¯†ç®—æ³•</strong></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å¯¹ç§°åŠ å¯†ç®—æ³•">å¯¹ç§°åŠ å¯†ç®—æ³•<a class="hash-link" href="#å¯¹ç§°åŠ å¯†ç®—æ³•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ­£å¦‚å…¶åï¼Œé€šä¿¡åŒæ–¹ä½¿ç”¨çš„å¯†é’¥æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¯†é’¥æ—¢å¯ä»¥æŠŠæ˜æ–‡åŠ å¯†æˆå¯†æ–‡ï¼Œä¹Ÿå¯ä»¥æŠŠå¯†æ–‡è§£å¯†æˆæ˜æ–‡ã€‚</p><p>ä¸è¿‡å¯¹ç§°åŠ å¯†ç®—æ³•çš„ä¸€å¤§é—®é¢˜å°±æ˜¯éš¾ä»¥åšåˆ°æŠŠå¯†é’¥å®‰å…¨çš„é€è¾¾ç»™å¯¹æ–¹ã€‚å¯¹ç§°åŠ å¯†ç®—æ³•ä½¿ç”¨åˆ°çš„å¯†é’¥ï¼Œéœ€è¦ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¿™æ ·ä¸€çœ‹å°±å˜æˆæ­»å¾ªç¯äº†ï¼Œå¾ˆæ˜æ˜¾ä¸è¡Œã€‚</p><p>å¸¸è§å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šDES, 3DES, AES</p><p>å¯¹ç§°åŠ å¯†æœ‰ä¸åŒçš„åˆ†ç»„æ¨¡å¼ï¼Œæ¯”å¦‚CBCæ¨¡å¼å°±è¢«ç”¨åœ¨TLSåè®®ä¸­ã€‚ä½¿ç”¨æ­¤æ¨¡å¼çš„æ—¶å€™å¿…é¡»è¦å‡†å¤‡å¥½åˆå§‹å‘é‡ï¼ˆå¯¹ç§°å¯†é’¥ï¼‰</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="éå¯¹ç§°åŠ å¯†ç®—æ³•">éå¯¹ç§°åŠ å¯†ç®—æ³•<a class="hash-link" href="#éå¯¹ç§°åŠ å¯†ç®—æ³•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>éå¯¹ç§°åŠ å¯†ç®—æ³•ä½¿ç”¨çš„å¯†é’¥å¯¹æ˜¯ä¸€ä¸ªå…¬é’¥ä¸€ä¸ªç§é’¥ã€‚</p><p>å…¬é’¥å¯ä»¥æŠŠæ˜æ–‡åŠ å¯†æˆå¯†æ–‡ï¼Œè€Œç§é’¥åˆ™æ˜¯æŠŠå¯†æ–‡è§£å¯†æˆæ˜æ–‡ã€‚ç§é’¥æ˜¯ä¸èƒ½è¢«å…¶ä»–äººçŸ¥é“çš„ï¼Œè€Œå…¬é’¥å³ä½¿ç¬¬ä¸‰æ–¹æ‹¿åˆ°äº†ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚å› ä¸ºæœ€ç»ˆå®Œæˆè§£å¯†çš„ç§é’¥åªåœ¨ä½ æ‰‹ä¸Šï¼Œåˆ«äººåªèƒ½åŠ å¯†è€Œæ— æ³•æŸ¥çœ‹å¯†æ–‡çš„å†…å®¹ã€‚</p><p>å› æ­¤ï¼Œå¯¹ç§°åŠ å¯†ç®—æ³•ä¸­è¿é€å¯†é’¥çš„éš¾é¢˜åœ¨è¿™é‡Œå°±ä¸ä¼šå‘ç”Ÿäº†ã€‚ä½†æ˜¯ï¼Œéå¯¹ç§°åŠ å¯†ç®—æ³•åœ¨æ€§èƒ½ä¸Šæ¯”å¯¹ç§°åŠ å¯†ç®—æ³•è¿˜æ˜¯å·®äº†è®¸å¤šçš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰æ··åˆåŠ å¯†ç®—æ³•ã€‚</p><p>å¸¸è§éå¯¹ç§°åŠ å¯†ç®—æ³•: RSA</p><p><strong>æ··åˆåŠ å¯†ç®—æ³•</strong></p><p>ä½¿ç”¨éšæœºç”Ÿæˆå‡½æ•°æ¥ç”Ÿæˆä¸€å¯¹å¯†é’¥ï¼Œåˆ©ç”¨å…¬é’¥å¯¹å¯†é’¥è¿›è¡ŒåŠ å¯†ï¼Œè¿™æ ·å°±èƒ½è§£å†³å¯†é’¥çš„é…é€éš¾é¢˜äº†ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="ä¸­é—´äººæ”»å‡»">ä¸­é—´äººæ”»å‡»<a class="hash-link" href="#ä¸­é—´äººæ”»å‡»" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ··åˆåŠ å¯†åŸºæœ¬ä¸Šä¿è¯äº†æ•°æ®çš„æœºå¯†æ€§ï¼Œåªè¦ä½ èƒ½ç¡®å®šä½ æ‰€ä½¿ç”¨çš„å…¬é’¥ç¡®å®æ˜¯å¯¹æ–¹å‘å‡ºçš„ã€‚</p><p>é€šå¸¸ç”¨æˆ·Aå’ŒBè¿›è¡ŒåŠ å¯†é€šä¿¡çš„æ—¶å€™ï¼ŒAä¼šå‘Bå‘é€è‡ªå·±çš„å…¬é’¥ï¼Œç„¶åBåˆ©ç”¨å…¬é’¥æŠŠå¯¹ç§°åŠ å¯†æ‰€ä½¿ç”¨çš„å¯†é’¥è¿›è¡ŒåŠ å¯†å‘é€ç»™Aï¼ŒAå†ç”¨è‡ªå·±çš„ç§é’¥å¯¹å¯†é’¥è¿›è¡Œè§£å¯†ã€‚è¿™æ ·åŒæ–¹æ¥ä¸‹æ¥å°±èƒ½ç”¨å¯†é’¥è¿›è¡ŒåŠ å¯†é€šä¿¡äº†ã€‚</p><p>ä½†å‡è®¾è¿™æ ·çš„åœºæ™¯ï¼š</p><p>Aå‘Bå‘é€è‡ªå·±çš„å…¬é’¥é€”ä¸­ï¼Œå…¬é’¥è¢«é»‘å®¢æˆªå–ã€‚ç„¶åé»‘å®¢æŠŠè‡ªå·±çš„å…¬é’¥å‘é€ç»™Bï¼ŒBè¯¯ä»¥ä¸ºæ˜¯Açš„å…¬é’¥ï¼Œç»“æœç”¨äº†é»‘å®¢çš„å…¬é’¥å¯¹è‡ªå·±çš„æ¶ˆæ¯åŠ å¯†å‘é€ã€‚é»‘å®¢è·å–åˆ°äº†åŠ å¯†åçš„æ¶ˆæ¯ï¼Œå¯ä»¥ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ï¼Œå°±è·å–åˆ°äº†Bå‘é€æ¶ˆæ¯çš„æ˜æ–‡äº†ã€‚</p><p>åˆå› ä¸ºé»‘å®¢æˆªå–äº†Aå‘é€çš„å…¬é’¥ï¼Œå› æ­¤å¯ä»¥ç”¨Açš„å…¬é’¥æŠŠè‡ªå·±æƒ³å‘é€çš„æ¶ˆæ¯åŠ å¯†å‘é€ç»™Aã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼ŒAä¼šè¯¯ä»¥ä¸ºé»‘å®¢æ˜¯Bï¼ŒBä¼šè¯¯ä»¥ä¸ºé»‘å®¢æ˜¯Aï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ä¸­é—´äººæ”»å‡»ã€‚</p><p>å¯¼è‡´ä¸­é—´äººæ”»å‡»çš„åŸå› åœ¨äºï¼šæ— æ³•ç¡®è®¤å…¬é’¥åˆ°åº•æ˜¯è°å‘å‡ºçš„ã€‚</p><p>è¿™ä¹Ÿæ­£æ˜¯<strong>è®¤è¯</strong>æ‰€è§£å†³çš„ï¼Œä¸‹æ–‡ä¼šè§£é‡Šå¦‚ä½•è§£å†³ä¸­é—´äººæ”»å‡»ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å®Œæ•´æ€§">å®Œæ•´æ€§<a class="hash-link" href="#å®Œæ•´æ€§" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å•å‘å“ˆå¸Œå‡½æ•°">å•å‘å“ˆå¸Œå‡½æ•°<a class="hash-link" href="#å•å‘å“ˆå¸Œå‡½æ•°" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å•å‘å“ˆå¸Œå‡½æ•°æ¥å—ä¸€ä¸ªä»»æ„é•¿åº¦çš„è¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸²å›ºå®šé•¿åº¦å“ˆå¸Œå€¼ã€‚ä¸€æ—¦è¾“å…¥çš„å€¼å‘é€ä¸€ä¸ç‚¹å˜åŒ–ï¼Œè¾“å‡ºçš„å“ˆå¸Œå€¼ä¹Ÿä¼šäº§ç”Ÿå·¨å¤§çš„æ”¹å˜ã€‚å› æ­¤å¯ä»¥ç”¨æ¥éªŒè¯æ•°æ®çš„å®Œæ•´æ€§ã€‚</p><p>é€šä¿¡æ—¶ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥åŒæ—¶æŠŠæ¶ˆæ¯å’Œæ¶ˆæ¯ç»è¿‡å“ˆå¸Œåçš„æ•£åˆ—å€¼å‘é€ç»™å¯¹æ–¹ã€‚å¯¹æ–¹åªéœ€è¦åœ¨æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œè¿›è¡Œå“ˆå¸Œè·å–æ•£åˆ—å€¼è¿›è¡Œæ¯”å¯¹ï¼Œå°±èƒ½çŸ¥é“æ¶ˆæ¯æ˜¯å¦å®Œæ•´ã€‚</p><p>å¯ä»¥æŠŠç”¨æˆ·å¯†ç çš„<strong>æ‘˜è¦</strong>å­˜åœ¨æ•°æ®åº“ï¼Œé˜²æ­¢å­˜å¯†ç å¯èƒ½å¯¼è‡´è¢«è„±åº“çš„é£é™©ã€‚è¿™ç§â€œåŠ å¯†â€æ˜¯æ— æ³•é€†å‘å¾—åˆ°å¯†ç åŸæ–‡çš„ã€‚</p><p>å¸¸è§å“ˆå¸Œå‡½æ•°ï¼šMD5ï¼ŒSHA</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="åŠ ç›">åŠ ç›<a class="hash-link" href="#åŠ ç›" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><strong>ç›</strong>ï¼ˆSaltï¼‰ï¼Œåœ¨<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6" target="_blank" rel="noopener noreferrer">å¯†ç å­¦</a>ä¸­ï¼Œæ˜¯æŒ‡åœ¨<a href="https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97" target="_blank" rel="noopener noreferrer">æ•£åˆ—</a>ä¹‹å‰å°†æ•£åˆ—å†…å®¹ï¼ˆä¾‹å¦‚ï¼šå¯†ç ï¼‰çš„ä»»æ„å›ºå®šä½ç½®æ’å…¥ç‰¹å®šçš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªåœ¨æ•£åˆ—ä¸­åŠ å…¥å­—ç¬¦ä¸²çš„æ–¹å¼ç§°ä¸ºâ€œåŠ ç›â€ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“å­—æ®µç»è¿‡æ•£åˆ—å¤„ç†ï¼ˆå¦‚<a href="https://zh.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer">MD5</a>ï¼‰ï¼Œä¼šç”Ÿæˆä¸€æ®µæ•£åˆ—å€¼ï¼Œè€Œæ•£åˆ—åçš„å€¼ä¸€èˆ¬æ˜¯æ— æ³•é€šè¿‡ç‰¹å®šç®—æ³•å¾—åˆ°åŸå§‹å­—æ®µçš„ã€‚ä½†æ˜¯æŸäº›æƒ…å†µï¼Œæ¯”å¦‚ä¸€ä¸ªå¤§å‹çš„<a href="https://zh.wikipedia.org/wiki/%E5%BD%A9%E8%99%B9%E8%A1%A8" target="_blank" rel="noopener noreferrer">å½©è™¹è¡¨</a>ï¼Œé€šè¿‡åœ¨è¡¨ä¸­æœç´¢è¯¥MD5å€¼ï¼Œå¾ˆæœ‰å¯èƒ½åœ¨æçŸ­çš„æ—¶é—´å†…æ‰¾åˆ°è¯¥æ•£åˆ—å€¼å¯¹åº”çš„çœŸå®å­—æ®µå†…å®¹ã€‚</p><p>åŠ ç›åçš„æ•£åˆ—å€¼ï¼Œå¯ä»¥æå¤§çš„é™ä½ç”±äºç”¨æˆ·æ•°æ®è¢«ç›—è€Œå¸¦æ¥çš„å¯†ç æ³„æ¼é£é™©ï¼ˆçŸ­å¯†ç å®¹æ˜“è¢«å½©è™¹è¡¨ç ´è§£ï¼‰ï¼Œå³ä½¿é€šè¿‡å½©è™¹è¡¨å¯»æ‰¾åˆ°äº†æ•£åˆ—åçš„æ•°å€¼æ‰€å¯¹åº”çš„åŸå§‹å†…å®¹ï¼Œä½†æ˜¯ç”±äºç»è¿‡äº†åŠ ç›ï¼Œæ’å…¥çš„å­—ç¬¦ä¸²æ‰°ä¹±äº†çœŸæ­£çš„å¯†ç ï¼Œä½¿å¾—è·å¾—çœŸå®å¯†ç çš„æ¦‚ç‡å¤§å¤§é™ä½ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="éªŒè¯">éªŒè¯<a class="hash-link" href="#éªŒè¯" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="æ¶ˆæ¯è®¤è¯ç mac">æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰<a class="hash-link" href="#æ¶ˆæ¯è®¤è¯ç mac" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ¶ˆæ¯è®¤è¯ç çš„ç”Ÿæˆå¾ˆåƒä¸Šé¢ä»‹ç»çš„å•å‘å“ˆå¸Œå‡½æ•°ï¼Œä¸åŒçš„æ˜¯æ¶ˆæ¯è®¤è¯ç çš„è¾“å…¥æ˜¯æ¶ˆæ¯å’Œä¸€ä¸ªå¯¹ç§°å¯†é’¥ï¼Œç”Ÿæˆçš„å€¼å°±å«æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰ã€‚</p><p>ä¸å•å‘å“ˆå¸Œå‡½æ•°å¯¹æ¯”åï¼Œå°±èƒ½çŸ¥é“æ¶ˆæ¯è®¤è¯ç å¯ä»¥çœ‹ä½œæ˜¯ä¸å¯†é’¥ç›¸å…³è”çš„å•é¡¹å“ˆå¸Œå‡½æ•°ã€‚æ­£æ˜¯å› ä¸ºä¸å¯†é’¥ç›¸å…³è”ï¼Œæ¶ˆæ¯è®¤è¯ç ä¸ä»…ä»…èƒ½åšåˆ°ä¿è¯æ¶ˆæ¯çš„å®Œæ•´æ€§ï¼Œè¿˜èƒ½èµ·åˆ°è®¤è¯çš„ä½œç”¨ã€‚ï¼ˆæ³¨ï¼šæ¶ˆæ¯è®¤è¯ç ä¸­ä½¿ç”¨çš„å¯†é’¥å¹¶æ²¡æœ‰èµ·åˆ°åŠ å¯†çš„ä½œç”¨ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªè¾“å…¥æ•°è€Œå·²ã€‚è€Œæ•°å­—ç­¾åä¸­ä½¿ç”¨çš„åˆ°çš„ç§é’¥èµ·åˆ°çš„ç­¾åçš„ä½œç”¨ã€‚äºŒè€…ä¹‹é—´æ˜¯ä¸åŒçš„ï¼‰</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="æ•°å­—ç­¾å">æ•°å­—ç­¾å<a class="hash-link" href="#æ•°å­—ç­¾å" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä½¿ç”¨ç§é’¥å¯¹æ¶ˆæ¯è¿›è¡ŒåŠ å¯†ï¼ˆç­¾åï¼‰ï¼Œä½¿ç”¨å…¬é’¥å¯¹æ¶ˆæ¯è¿›è¡Œè§£å¯†ï¼ˆéªŒè¯ï¼‰ã€‚</p><p>å•å‘å“ˆå¸Œå‡½æ•°ï¼Œæ¶ˆæ¯è®¤è¯ç å’Œæ•°å­—ç­¾åçš„åŒºåˆ«åœ¨å“ªï¼Ÿ</p><ol><li><p>å¾ˆæ˜æ˜¾ï¼Œå•å‘å“ˆå¸Œå‡½æ•°åªèƒ½éªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§ã€‚</p><p>é—®é¢˜ç®€åŒ–æˆæ¶ˆæ¯è®¤è¯ç å’Œæ•°å­—ç­¾åçš„åŒºåˆ«ã€‚</p></li><li><p>äºŒè€…éƒ½èƒ½åšåˆ°éªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’Œè®¤è¯ã€‚</p><p>æ¶ˆæ¯è®¤è¯ç æ˜¯é€šè¿‡æ¯”å¯¹ æ¶ˆæ¯å’Œå¯¹ç§°å¯†é’¥çš„è¿ç®—ç”Ÿæˆçš„MACã€‚</p><p>è€Œæ•°å­—ç­¾åæ˜¯é€šè¿‡æ¯”å¯¹ ç§é’¥å¯¹æ¶ˆæ¯çš„åŠ å¯†ç”Ÿæˆçš„ç­¾åã€‚</p><p>ï¼ˆè¦æ³¨æ„çš„æ˜¯æ¶ˆæ¯è®¤è¯ç ä¸­å¯¹ç§°å¯†é’¥çš„ä½œç”¨å¹¶ä¸æ˜¯åŠ å¯†ï¼Œè€Œä»…ä»…æ˜¯ä¸€ä¸ªè¾“å…¥çš„æ•°ï¼‰</p><p>äºŒè€…çš„å·®åˆ«å°±åœ¨äºä¸€ä¸ªç”¨çš„æ˜¯å¯¹ç§°å¯†é’¥ï¼Œä¸€ä¸ªæ˜¯éå¯¹ç§°å¯†é’¥ã€‚</p></li></ol><p>æ‰€ä»¥ä½¿ç”¨æ¶ˆæ¯è®¤è¯ç çš„æ—¶å€™ï¼ŒBå¯ä»¥ä¼ªé€ å‡ºä¸€ä¸ªä¿¡æ¯è¯´æ˜¯Aå‘é€çš„ï¼Œå¯¹äºç¬¬ä¸‰æ–¹æ¥è¯´ï¼Œç”±äºAå’ŒBçš„å¯†é’¥ç›¸åŒï¼Œæ‰€ä»¥æ— æ³•è¯ä¼ªã€‚</p><p>è€Œå¦‚æœä½¿ç”¨æ•°å­—ç­¾åï¼ŒAå’ŒBä½¿ç”¨çš„å¯†é’¥ä¸åŒï¼Œå°±ä¸ä¼šå‘ç”Ÿè¿™ç§äº‹äº†ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="è¯ä¹¦">è¯ä¹¦<a class="hash-link" href="#è¯ä¹¦" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä¹‹å‰è¯´è¿‡äº†ï¼Œå¯¼è‡´ä¸­é—´äººçš„åŸå› æ˜¯æ— æ³•ç¡®è®¤å…¬é’¥åˆ°åº•æ˜¯è°çš„ï¼Œæˆ‘ä»¬æ‰€éœ€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯å…¬é’¥çš„<strong>è®¤è¯</strong>é—®é¢˜ã€‚</p><p>æˆ‘ä»¬ä¹‹å‰ä¹Ÿè¯´è¿‡æ•°å­—ç­¾åå¯ä»¥è¿›è¡Œæ¶ˆæ¯çš„è®¤è¯ï¼Œè€Œè¯ä¹¦å®é™…ä¸Šä½¿ç”¨çš„å°±æ˜¯æ•°å­—ç­¾åæ¥è®¤è¯ã€‚</p><p>å…ˆè§£é‡Šä¸€ä¸‹è¯ä¹¦çš„æ„æˆï¼š</p><p>è¯ä¹¦ = ç½‘ç«™çš„å…¬é’¥ + CAï¼ˆCertifi<em>ca</em>te Authorityï¼Œè¯ä¹¦é¢å‘æœºæ„ï¼‰çš„ç§é’¥å¯¹ç½‘ç«™å…¬é’¥çš„ç­¾å</p><p>å½“ç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æŠŠå…¬é’¥å‘ç»™ç”¨æˆ·ï¼Œè€Œæ˜¯æŠŠè¯ä¹¦å‘ç»™ç”¨æˆ·ã€‚äºŒè€…çš„æœ€å¤§å·®åˆ«å°±æ˜¯è¯ä¹¦ä¸Šé™¤äº†å…¬é’¥ï¼Œè¿˜æœ‰ç­¾åã€‚å› æ­¤å½“ç”¨æˆ·æ”¶åˆ°è¯ä¹¦åï¼Œç”¨CAçš„å…¬é’¥å¯¹ç­¾åè¿›è¡ŒéªŒè¯ï¼Œå°±èƒ½çŸ¥é“è¿™ä¸ªå…¬é’¥åˆ°åº•æ˜¯ä¸æ˜¯ç½‘ç«™çš„å…¬é’¥äº†ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/å‰ç«¯å®‰å…¨.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/docs/è®¡ç®—æœºç½‘ç»œ"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">è®¡ç®—æœºç½‘ç»œ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/docs/ç¼–è¯‘åŸç†"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">ç¼–è¯‘åŸç†</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#è·¨ç«™è„šæœ¬æ”»å‡»xss" class="table-of-contents__link toc-highlight">è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰</a><ul><li><a href="#åå°„å‹xssçš„æµç¨‹" class="table-of-contents__link toc-highlight">åå°„å‹XSSçš„æµç¨‹</a></li><li><a href="#å­˜å‚¨å‹xssæ¡ˆä¾‹" class="table-of-contents__link toc-highlight">å­˜å‚¨å‹XSSæ¡ˆä¾‹</a></li><li><a href="#xssçš„é˜²å¾¡" class="table-of-contents__link toc-highlight">XSSçš„é˜²å¾¡</a></li></ul></li><li><a href="#è·¨ç«™è¯·æ±‚ä¼ªé€ csrf" class="table-of-contents__link toc-highlight">è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰</a><ul><li><a href="#csrfçš„é˜²å¾¡" class="table-of-contents__link toc-highlight">CSRFçš„é˜²å¾¡</a></li></ul></li><li><a href="#å¯†ç å­¦ç›¸å…³" class="table-of-contents__link toc-highlight">å¯†ç å­¦ç›¸å…³</a></li><li><a href="#åŠ å¯†ç®—æ³•" class="table-of-contents__link toc-highlight">åŠ å¯†ç®—æ³•</a><ul><li><a href="#å¯¹ç§°åŠ å¯†ç®—æ³•" class="table-of-contents__link toc-highlight">å¯¹ç§°åŠ å¯†ç®—æ³•</a></li><li><a href="#éå¯¹ç§°åŠ å¯†ç®—æ³•" class="table-of-contents__link toc-highlight">éå¯¹ç§°åŠ å¯†ç®—æ³•</a></li></ul></li><li><a href="#ä¸­é—´äººæ”»å‡»" class="table-of-contents__link toc-highlight">ä¸­é—´äººæ”»å‡»</a></li><li><a href="#å®Œæ•´æ€§" class="table-of-contents__link toc-highlight">å®Œæ•´æ€§</a><ul><li><a href="#å•å‘å“ˆå¸Œå‡½æ•°" class="table-of-contents__link toc-highlight">å•å‘å“ˆå¸Œå‡½æ•°</a></li><li><a href="#åŠ ç›" class="table-of-contents__link toc-highlight">åŠ ç›</a></li></ul></li><li><a href="#éªŒè¯" class="table-of-contents__link toc-highlight">éªŒè¯</a><ul><li><a href="#æ¶ˆæ¯è®¤è¯ç mac" class="table-of-contents__link toc-highlight">æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰</a></li><li><a href="#æ•°å­—ç­¾å" class="table-of-contents__link toc-highlight">æ•°å­—ç­¾å</a></li><li><a href="#è¯ä¹¦" class="table-of-contents__link toc-highlight">è¯ä¹¦</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/blog/assets/js/runtime~main.25eb944e.js"></script>
<script src="/blog/assets/js/main.dec5291d.js"></script>
</body>
</html>